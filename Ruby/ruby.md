# Ruby
- 文字列
    - ダブルクォーテーション
        - 改行文字が使用可能
        - 式展開が使える
    - シングルクォーテーション
        - 改行文字が文字列として扱われる
        - 式展開されず、文字列として扱われる
- 参照の概念
    - 変数にはオブジェクトそのものではなく、オブジェクトへの参照が格納されている
    - 変数を他の変数に代入、メソッドの引数として渡したりすると、新しい変数とメソッドの引数は元の変数と同じオブジェクトを参照する
    - 同じオブジェクトを参照している場合、いずれかのオブジェクトの状態が変更されると全ての変数に影響する
- 配列を使った多重代入
    - a, b = [1, 2] -> a = 1, b = 2
- 範囲オブジェクト
    - 〇から〇までの範囲を表す
    - 「..」または、「...」を使って作成する
        - 「..」
            - 1..5 -> 5を含む
        - 「...」
            - 1...5 -> 5を含まない
- splat展開
    - *により複数の値を配列に展開する
        ```
        [*1..5] #=> [1, 2, 3, 4, 5]
        ```
    - 配列が代入された変数にも使用可能
        ```
        a = [1]
        b = [2, 3]
        # splat展開なし
        a.push(b) #=> [1, [2, 3]]
        # splat展開あり
        a.push(*b) #=> [1, 2, 3]
        ```
- 可変長引数
    - 個数の制限がない引数
    - 引数を配列として受け取ることができる
    - メソッドで可変長引数を使用する場合は、引数の前に*を付ける
- シンボル
    ```
    :シンボルの名前
    ```
    - Ruby内部では、整数として管理される(文字列より処理が高速)
    - 同じシンボルは同じオブジェクトである(文字列の場合、同じ文字列でも異なるオブジェクトになる)
    - イミュータブルなオブジェクトで破壊的な変更は不可
- ハッシュのキーにシンボルを使用
    - =>を使わずに「シンボル: 値」でハッシュを作成できる
    ```
    hash = { a: 1, b: 2, c: 3 }
    ```
    - キーが文字列の場合
    ```
    hash = { 'a' => 1, 'b' => 2, 'c' => 3 }
    ```
- ファイルを読み込み改行コードを変換
    - LFをCRLFに変換
        ```
        File.read("sample.txt").encode(:crlf_newline => true)
        ```
- JSON形式のデータをhashに変換
    ```
    JSON.parse(json)
    ```
    - hashキーをsymbolキーする
        ```
        JSON.parse(json, {:symbolize_names => true})
        ```
- 正規表現
   - 正規表現オプション
       - 「m」
           - 「.」が改行コードにもマッチするようになる
- dig
    - ネストしたハッシュから安全に値を取り出すことができる
    - キーが見つからない場合、nilを返す
- require
    - $LOAD_PATHに指定されているパスからの相対パスで該当のファイルを参照する
- require_relative
    - require_relativeが記述されたファイルからの相対パスを参照する
- gets
    - 文字入力を受け付ける
        ```
        irb(main):001:0> tmp = gets
        aaa
        => "aaa\n"
        ```
    - 改行文字を削除
        ```
        irb(main):002:0> tmp = gets.chomp
        aaa
        => "aaa"
        ```
- ||=
    - a ||= b は、 a = a || b と同じ
        - aがtrueの場合、aを設定
        - falseの場合、bを設定
- index
    - 文字列、配列に指定文字列が含まれる場合、文字列の開始位置を返す
- RDoc
    - ドキュメント生成を行うためのライブラリ
- モジュールのミックスイン
    - include
        - インスタンスメソッドとしてクラスに読み込む
    - extend
        - クラスメソッドとしてクラスに読み込む
- 数値と文字列の数値の比較
    - "1" == 1 ->比較可能
    - "1" > 1 ->比較不可(ArgumentErrorが発生)
        - ArgumentErrorが発生する原因
            - \> と == の動作の違いにより発生
                - 比較演算子は、 <=> 演算子を利用して定義される
                    - self <=> other は以下をそれぞれ返すことが期待されている
                        - self が other より大きいなら正の整数
                        - self と other が等しいなら 0
                        - self が other より小さいなら負の整数
                        - self と other が比較できない場合は nil
                            - <=> 演算子で、IntegerとStringを比較するとnilを返す
                - Comparable#>
                    - <=> が正の整数を返した場合に、true を返す
                    - それ以外の整数を返した場合に、false を返す
                    - <=> が nil を返したときにArgumentErrorが発生
                - Comparable#==
                    - <=> が 0 を返した時に、true を返す
                    - それ以外を返した場合は、false を返す
    - https://rurema.clear-code.com/library:_builtin/type:instance-method/query:comparable/query:%3E/version:2.3.0/

